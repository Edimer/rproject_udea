---
title: "Estadística descriptiva con R"
subtitle: "Tipos de variables y métricas"
author: "Edimer David Jaramillo"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_float: true
    df_print: paged
    code_folding: hide
    theme: cosmo
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

# Archivos Excel

```{r}
library(readxl)
datos_excel <- read_excel(path = "ExperimentoMaiz.xlsx")
datos_excel
```

# Archivos planos

```{r}
library(tidyverse)
datos_csv <- read_csv(file = "ExperimentoMaiz.csv")
datos_csv
```

# Tipos de datos

- Cuantitativa:
  - Continuas: numeric
  - Discretas: integer
- Cualitativas:
  - Nominales: character (chr) o string (texto)
  - Ordinales: factor 

# Manipulando las variables

- Puedo acceder con el signo pesos ($)

```{r}
datos_csv$yield
```

- Puedo solicitar el tipo o clase de dato:

```{r}
class(datos_csv$yield)
```

- Puedo ver el tipo de dato para todas las columnas:

```{r}
str(datos_csv)
```

# Categórica ordinal

```{r}
meses <- c("enero", "febrero", "marzo", "abril", "mayo", "enero")
class(meses)
```

- Podemos convertir a tipo factor (ordinal) la variable "meses":

```{r}
meses_desordenados <- factor(meses) 
meses
meses_desordenados
```

- Podemos controlar el orden de los factores (ordinales):

```{r}
meses_ordenado <- factor(meses,
                         levels = c("enero", "febrero", "marzo", "abril", "mayo"))

meses_ordenado
```

# Medidas de tendencia central

## Media

```{r}
mean(x = datos_csv$yield)
```

- Podemos calcular el promedio agrupado por genotipo:
  - Datos
  - Agrupación: variable por la cual quiero agrupar
  - Resumen: medida o medidas que deseo calcular
  - **Nota:** la tubería (%>%) hace que el código sea más fácil de leer 
    - La tubería se obtiene con: CTRL + SHIFT + M

```{r}
datos_csv %>% 
  group_by(gen) %>% 
  summarise(promedio = mean(yield))
```

## Media ponderada

```{r}
animales <- c(20, 31, 35, 45, 2)
pesos <- c(124, 114, 120, 119, 145)

weighted.mean(x = pesos,
              w = animales)

mean(pesos)
```

